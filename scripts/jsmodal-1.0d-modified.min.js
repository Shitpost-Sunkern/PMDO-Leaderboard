/*!
 * jsModal - A pure JavaScript modal dialog engine v1.0d
 * http://jsmodal.com/
 *
 * Author: Henry Rune Tang Kai <henry@henrys.se>
 *
 * (c) Copyright 2013 Henry Tang Kai.
 *
 * License: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: 2013-7-11
 * 
 * This modified version by Shitpost Sunkern on 2023-06-17.
 */
var Modal=function(){"use strict";var e,t,n={},l={},i=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),r={width:"auto",height:"auto",lock:!1,hideClose:!1,draggable:!1,closeAfter:0,openCallback:!1,closeCallback:!1,hideOverlay:!1};return n.open=function(c){l.width=c.width||r.width,l.height=c.height||r.height,l.lock=c.lock||r.lock,l.hideClose=c.hideClose||r.hideClose,l.draggable=c.draggable||r.draggable,l.closeAfter=c.closeAfter||r.closeAfter,l.closeCallback=c.closeCallback||r.closeCallback,l.openCallback=c.openCallback||r.openCallback,l.hideOverlay=c.hideOverlay||r.hideOverlay,e=function(){n.center({})},c.content&&!c.ajaxContent?d.innerHTML=c.content:c.ajaxContent&&!c.content?(o.className="modal-loading",n.ajax(c.ajaxContent,function e(t){d.innerHTML=t})):d.innerHTML="",o.style.width=l.width,o.style.height=l.height,n.center({}),(l.lock||l.hideClose)&&(a.style.visibility="hidden"),l.hideOverlay||(i.style.visibility="visible"),o.style.visibility="visible",document.onkeypress=function(e){27===e.keyCode&&!0!==l.lock&&n.close()},a.onclick=function(){if(l.hideClose)return!1;n.close()},i.onclick=function(){if(l.lock)return!1;n.close()},window.addEventListener?window.addEventListener("resize",e,!1):window.attachEvent&&window.attachEvent("onresize",e),l.draggable?(s.style.cursor="move",s.onmousedown=function(e){return n.drag(e),!1}):s.onmousedown=function(){return!1},l.closeAfter>0&&(t=window.setTimeout(function(){n.close()},1e3*l.closeAfter)),l.openCallback&&l.openCallback()},n.drag=function(e){var t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,l=t-o.offsetLeft,i=n-o.offsetTop;document.onmousemove=function(e){t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,o.style.left=t-l>0?t-l+"px":0,o.style.top=n-i>0?n-i+"px":0,document.onmouseup=function(){window.document.onmousemove=null}}},n.ajax=function(e,t){var n,l=!1,i=[function(){return new window.XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")}];for(n=0;n<i.length;n+=1){try{l=i[n]()}catch(c){}if(!1!==l)break}l.open("GET",e,!0),l.onreadystatechange=function(){4===l.readyState&&(l.status,t(l.responseText),o.removeAttribute("class"))},l.send(null)},n.close=function(){d.innerHTML="",i.setAttribute("style",""),i.style.cssText="",i.style.visibility="hidden",o.setAttribute("style",""),o.style.cssText="",o.style.visibility="hidden",s.style.cursor="default",a.setAttribute("style",""),a.style.cssText="",t&&window.clearTimeout(t),l.closeCallback&&l.closeCallback(),window.removeEventListener?window.removeEventListener("resize",e,!1):window.detachEvent&&window.detachEvent("onresize",e)},n.center=function(e){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(o.clientWidth,o.offsetWidth),l=Math.max(o.clientHeight,o.offsetHeight),c=0,s=0,d=0,a=0;"number"==typeof window.innerWidth?(c=window.innerWidth,s=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&(c=document.documentElement.clientWidth,s=document.documentElement.clientHeight),"number"==typeof window.pageYOffset?(a=window.pageYOffset,d=window.pageXOffset):document.body&&document.body.scrollLeft?(a=document.body.scrollTop,d=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&(a=document.documentElement.scrollTop,d=document.documentElement.scrollLeft),e.horizontalOnly||(o.style.top=a+s/2-l/2+"px"),o.style.left=d+c/2-n/2+"px",i.style.height=t+"px",i.style.width="100%"},i.setAttribute("id","modal-overlay"),o.setAttribute("id","modal-container"),c.setAttribute("id","modal-inner"),s.setAttribute("id","modal-header"),d.setAttribute("id","modal-content"),a.setAttribute("id","modal-close"),s.appendChild(a),c.appendChild(s),c.appendChild(d),o.appendChild(c),i.style.visibility="hidden",o.style.visibility="hidden",window.addEventListener?window.addEventListener("load",function(){document.body.appendChild(i),document.body.appendChild(o)},!1):window.attachEvent&&window.attachEvent("onload",function(){document.body.appendChild(i),document.body.appendChild(o)}),n}();